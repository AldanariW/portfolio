{"version":3,"file":"bundle.js","mappings":"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","sources":["webpack:///./docs/src/CommandParser.ts","webpack:///./docs/src/clis/CommandListCli.ts","webpack:///./docs/src/clis/ContentCli.ts","webpack:///./docs/src/clis/ExternalRedirectCli.ts","webpack:///./docs/src/clis/def/Cli.ts","webpack:///./docs/src/clis/def/IExecutable.ts","webpack:///./docs/src/index.ts","webpack:///./docs/src/shell.ts","webpack:///webpack/bootstrap","webpack:///webpack/startup"],"sourcesContent":["\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.CommandParser = void 0;\nclass CommandParser {\n    static parseName(command) {\n        return command.slice(0, command.indexOf(' ') + 1 || undefined).trim();\n    }\n    static parseArgs(command) {\n        let map = new Map();\n        let i = 0;\n        const eof = () => i >= command.length;\n        // go to the start of the command args, skipping command name.\n        while (command[i] !== ' ' && !eof())\n            i++;\n        while (!eof()) {\n            // go to next arg\n            while (command[i] !== '-' && !eof())\n                i++;\n            // skip dash\n            i++;\n            if (command[i] === '-')\n                i++;\n            // read arg name\n            let start = i;\n            while (command[i] !== ' ' && !eof())\n                i++;\n            if (i === start)\n                break; //Syntax Error\n            let argName = command.slice(start, i);\n            map.set(argName, undefined);\n            // go to arg value\n            while (command[i] === ' ' && !eof())\n                i++;\n            // continue if new arg instead of arg value\n            if (command[i] === '-')\n                continue;\n            // read arg value\n            start = i;\n            while (command[i] !== ' ' && !eof())\n                i++;\n            if (i > start) {\n                let argValue = command.slice(start, i);\n                map.set(argName, isNaN(Number(argValue)) ? argValue : Number(argValue));\n            }\n        }\n        return map;\n    }\n}\nexports.CommandParser = CommandParser;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.CommandListCli = void 0;\nconst Cli_1 = require(\"./def/Cli\");\nclass CommandListCli extends Cli_1.Cli {\n    constructor(cliInstances) {\n        super('help', 'Lists all available commands', () => this.listCommands());\n        this.cliInstances = cliInstances;\n    }\n    listCommands() {\n        return `Command List :\\n - ${this.cliInstances\n            .map(cli => `${cli.name}: ${cli.desc}`)\n            .join('\\n - ')}`;\n    }\n}\nexports.CommandListCli = CommandListCli;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ContentCli = void 0;\nexports.showPane = showPane;\nexports.hidePane = hidePane;\nexports.setContent = setContent;\nconst Cli_1 = require(\"./def/Cli\");\nlet $pane;\nlet $modal;\nlet $body;\n$(() => {\n    $pane = $('.modal-pane');\n    $modal = $('.modal-overlay');\n    $body = $('body');\n});\nclass ContentCli extends Cli_1.Cli {\n    constructor(name, desc, content, validator) {\n        super(name, desc, () => `Showing ${name}...`);\n        this.content = content;\n        this.validator = validator;\n    }\n    execute() {\n        setContent('<div id=\"loading-div\">Loading...</div>');\n        showPane();\n        let result = \"\";\n        $.ajax({\n            url: this.content,\n            method: 'GET',\n            success: (html) => setContent(html),\n            error: () => {\n                hidePane();\n                result = `failed to load content : ${this.content}`;\n            }\n        });\n        return { succes: result.length === 0, errors: result };\n    }\n}\nexports.ContentCli = ContentCli;\nfunction showPane() {\n    $modal.fadeIn();\n    $body.addClass('body-fixed');\n}\nfunction hidePane() {\n    $modal.fadeOut();\n    $body.removeClass('body-fixed');\n}\nfunction setContent(content) {\n    $pane.children().not('.close-button').remove();\n    $pane.append(content);\n}\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.RedirectCli = void 0;\nconst Cli_1 = require(\"./def/Cli\");\nclass RedirectCli extends Cli_1.Cli {\n    constructor(name, url, help) {\n        super(name, help);\n        this.url = url;\n    }\n    output() {\n        if (this.args.has('help'))\n            return this.help();\n        return `Opening ${this.name}...`;\n    }\n    execute() {\n        const succes = window.open(this.url, '_blank');\n        if (succes !== null) {\n            succes.focus();\n            return { succes: true, errors: \"\" };\n        }\n        return { succes: false, errors: \"L'ouverture du lien a échoué, la nouvelle fenetre a été bloqué par l'utilisateur\" };\n    }\n}\nexports.RedirectCli = RedirectCli;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Cli = void 0;\nconst CommandParser_1 = require(\"../../CommandParser\");\nclass Cli {\n    constructor(name, desc, callable) {\n        this.name = name;\n        this.desc = desc;\n        this.callable = callable;\n        this.args = new Map;\n    }\n    help() {\n        // default method : generate help text based on validator if it exists, else returns description\n        return this.validator !== undefined ? this.validator.generateHelp() : this.desc;\n    }\n    output() {\n        // default method: return the output of the callable if it's defined, else the name of the command\n        // returns the help message if 'help' is in the arguments.\n        var _a, _b;\n        if (this.args.has('help'))\n            return this.help();\n        return (_b = (_a = this.callable) === null || _a === void 0 ? void 0 : _a.call(this, this.args)) !== null && _b !== void 0 ? _b : this.name;\n    }\n    parseArgs(args) {\n        // default method: Parses the args with the Command Parser and validate them\n        this.args = CommandParser_1.CommandParser.parseArgs(args);\n        if (this.validator) {\n            const res = this.validator.validate(this.args);\n            return { succes: res.success, errors: res.errors, follow: false };\n        }\n        return { succes: true, errors: \"\", follow: !this.args.has('help') };\n    }\n    ;\n}\nexports.Cli = Cli;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.isExecutable = isExecutable;\nfunction isExecutable(object) {\n    return object !== undefined && 'execute' in object;\n}\n","\"use strict\";\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst shell_1 = require(\"./shell\");\nconst ExternalRedirectCli_1 = require(\"./clis/ExternalRedirectCli\");\nconst CommandListCli_1 = require(\"./clis/CommandListCli\");\nconst ContentCli_1 = require(\"./clis/ContentCli\");\nconst boot_json_1 = require(\"../content/boot.json\");\nconst contentDir = \"content\";\n$(() => __awaiter(void 0, void 0, void 0, function* () {\n    // const bootSequenceWait = showBootSequence()\n    $('#terminal').show();\n    const clis = [\n        new ExternalRedirectCli_1.RedirectCli(\"github\", \"https://github.com/AldanariP\", \"Just type 'github' to open the github profile in the new tab\"),\n        new ExternalRedirectCli_1.RedirectCli(\"mail\", \"mailto:curylorafael945@gmail.com?body=Je veux vous embaucher !\", \"Write me an email !\"),\n        new ExternalRedirectCli_1.RedirectCli(\"cv\", `${contentDir}/cv.pdf`, \"open and download my cv !\"),\n        // new TestCli(),\n        // new AnimationCli(),\n        // new ContentCli(\"lorem\", \"a test modal pane\", `${contentDir}/lorem_ipsum.html`),\n        new ContentCli_1.ContentCli(\"competences\", \"Voir mes differentes compétences\", `${contentDir}/competences.html`)\n    ];\n    clis.push(new CommandListCli_1.CommandListCli(clis));\n    new shell_1.ShellInterface(...clis);\n    // evil code that forces focus on the text input\n    const input = $('#command-input');\n    $('body').on('mouseup', () => {\n        setTimeout(() => {\n            input.trigger('focus');\n        }, 0);\n    });\n    // Prevent modal from closing when clicking inside it\n    $('.modal-pane').on(\"click\", function (e) {\n        e.stopPropagation();\n    });\n    // Close modal pane on close click or click out\n    $('.close-button, .modal-overlay').on(\"click\", function (e) {\n        if (e.target === this)\n            (0, ContentCli_1.hidePane)();\n    });\n    // Close modal pane on escape key press\n    $(document).on(\"keyup\", function (e) {\n        if (e.key === \"Escape\")\n            (0, ContentCli_1.hidePane)();\n    });\n    // await bootSequenceWait;\n}));\nfunction showBootSequence() {\n    return __awaiter(this, void 0, void 0, function* () {\n        const generateBootDelays = (numberOfLines) => {\n            const delays = [];\n            let burstMode = false;\n            let burstCount = 0;\n            const normalMin = 100;\n            const normalMax = 400;\n            const burstMin = 10;\n            const burstMax = 60;\n            const burstChance = 0.3;\n            const extraDelayChance = 0.2;\n            const extraDelayMax = 500;\n            for (let i = 0; i < numberOfLines; i++) {\n                if (!burstMode && Math.random() < burstChance) {\n                    burstMode = true;\n                    burstCount = Math.floor(Math.random() * 5) + 3;\n                }\n                if (burstMode && burstCount > 0) {\n                    delays.push(Math.random() * (burstMax - burstMin) + burstMin);\n                    burstCount--;\n                    if (burstCount === 0)\n                        burstMode = false;\n                }\n                else {\n                    const baseDelay = Math.random() * (normalMax - normalMin) + normalMin;\n                    const occasionalLongerDelay = Math.random() < extraDelayChance ? Math.random() * extraDelayMax : 0;\n                    delays.push(baseDelay + occasionalLongerDelay);\n                }\n            }\n            return delays;\n        };\n        const bootDiv = $(`#boot-sequence`);\n        const nameDiv = $(`#name`);\n        const delays = generateBootDelays(boot_json_1.bootsequence.length);\n        for (let i = 0; i < boot_json_1.bootsequence.length; i++) {\n            bootDiv.append(`${boot_json_1.bootsequence[i].length > 1 ? '[ <span style=\"color: lime\">OK</span> ]' : ''} ${boot_json_1.bootsequence[i]}<br>`);\n            yield new Promise(resolve => setTimeout(resolve, delays[i]));\n        }\n        bootDiv.hide();\n        $(\"#name\").show();\n        for (let i = 0; i < boot_json_1.name.length; i++) {\n            nameDiv.append(`<pre>${boot_json_1.name[i]}</pre>`);\n            yield new Promise(resolve => setTimeout(resolve, delays[i]));\n        }\n    });\n}\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ShellInterface = void 0;\nconst IExecutable_1 = require(\"./clis/def/IExecutable\");\nconst CommandParser_1 = require(\"./CommandParser\");\nclass ShellInterface {\n    constructor(...clis) {\n        this.$terminal = $('#terminal');\n        this.$output = $('#output');\n        this.$input = $('#command-input');\n        this.clis = clis;\n        this.history = {\n            commands: [],\n            currentIndex: -1\n        };\n        this.initializeEventListeners();\n    }\n    initializeEventListeners() {\n        this.$input.on('keydown', (e) => {\n            switch (e.key) {\n                case 'Enter':\n                    this.handleCommand();\n                    this.$terminal.scrollTop(this.$terminal[0].scrollHeight);\n                    break;\n                case 'ArrowUp':\n                    e.preventDefault();\n                    this.navigateHistory('up');\n                    break;\n                case 'ArrowDown':\n                    e.preventDefault();\n                    this.navigateHistory('down');\n                    break;\n            }\n        });\n    }\n    navigateHistory(direction) {\n        if (this.history.commands.length === 0)\n            return;\n        if (direction === 'up') {\n            if (this.history.currentIndex > 0) {\n                this.history.currentIndex--;\n                this.$input.val(this.history.commands[this.history.currentIndex]);\n            }\n        }\n        else {\n            if (this.history.currentIndex < this.history.commands.length - 1) {\n                this.history.currentIndex++;\n                this.$input.val(this.history.commands[this.history.currentIndex]);\n            }\n            else {\n                this.history.currentIndex = this.history.commands.length;\n            }\n        }\n    }\n    handleCommand() {\n        const addLine = (line, err) => {\n            this.$output.append(`<span class=\"prompt\">$</span><span>${command}</span><br><span class=\"${err}\">${line}</span><br>`);\n        };\n        const command = this.$input.val();\n        this.$input.val('');\n        if (command.trim()) {\n            // adds the commands to history\n            this.history.commands.push(command);\n            this.history.currentIndex = this.history.commands.length;\n            // parses the command\n            const cli = this.clis.find((c) => CommandParser_1.CommandParser.parseName(command) === c.name);\n            if (cli === undefined) {\n                addLine(`Commmande inconnue: ${command}`, 'err');\n            }\n            else {\n                const res = cli.parseArgs(command);\n                // prints the result of the command\n                addLine(res.succes ? cli.output() : res.errors, !res.succes ? 'err' : '');\n                // execute the command\n                if (res.succes && res.follow && (0, IExecutable_1.isExecutable)(cli)) {\n                    const res = cli.execute();\n                    if (!res.succes) {\n                        addLine(res.errors, 'err');\n                    }\n                }\n            }\n        }\n    }\n}\nexports.ShellInterface = ShellInterface;\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// startup\n// Load entry module and return exports\n// This entry module is referenced by other modules so it can't be inlined\nvar __webpack_exports__ = __webpack_require__(92);\n"],"names":["Object","defineProperty","exports","value","CommandParser","parseName","command","slice","indexOf","undefined","trim","parseArgs","map","Map","i","eof","length","start","argName","set","argValue","isNaN","Number","CommandListCli","Cli_1","Cli","constructor","cliInstances","super","this","listCommands","cli","name","desc","join","ContentCli","showPane","hidePane","setContent","$pane","$modal","$body","$","content","validator","execute","result","ajax","url","method","success","html","error","succes","errors","fadeIn","addClass","fadeOut","removeClass","children","not","remove","append","RedirectCli","help","output","args","has","window","open","focus","CommandParser_1","callable","generateHelp","_a","_b","call","res","validate","follow","isExecutable","object","__awaiter","thisArg","_arguments","P","generator","Promise","resolve","reject","fulfilled","step","next","e","rejected","done","then","apply","shell_1","ExternalRedirectCli_1","CommandListCli_1","ContentCli_1","contentDir","show","clis","push","ShellInterface","input","on","setTimeout","trigger","stopPropagation","target","document","key","IExecutable_1","$terminal","$output","$input","history","commands","currentIndex","initializeEventListeners","handleCommand","scrollTop","scrollHeight","preventDefault","navigateHistory","direction","val","addLine","line","err","find","c","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","module","__webpack_modules__"],"sourceRoot":""}