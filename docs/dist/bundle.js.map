{"version":3,"file":"bundle.js","mappings":"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","sources":["webpack:///./docs/src/CommandParser.ts","webpack:///./docs/src/clis/CommandListCli.ts","webpack:///./docs/src/clis/ContentCli.ts","webpack:///./docs/src/clis/ExternalRedirectCli.ts","webpack:///./docs/src/clis/def/Cli.ts","webpack:///./docs/src/clis/def/IExecutable.ts","webpack:///./docs/src/index.ts","webpack:///./docs/src/shell.ts","webpack:///webpack/bootstrap","webpack:///webpack/startup"],"sourcesContent":["\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.CommandParser = void 0;\nclass CommandParser {\n    static parseName(command) {\n        return command.slice(0, command.indexOf(' ') + 1 || undefined).trim();\n    }\n    static parseArgs(command) {\n        let map = new Map();\n        let i = 0;\n        const eof = () => i >= command.length;\n        // go to the start of the command args, skipping command name.\n        while (command[i] !== ' ' && !eof())\n            i++;\n        while (!eof()) {\n            // go to next arg\n            while (command[i] !== '-' && !eof())\n                i++;\n            // skip dash\n            i++;\n            if (command[i] === '-')\n                i++;\n            // read arg name\n            let start = i;\n            while (command[i] !== ' ' && !eof())\n                i++;\n            if (i === start)\n                break; //Syntax Error\n            let argName = command.slice(start, i);\n            map.set(argName, undefined);\n            // go to arg value\n            while (command[i] === ' ' && !eof())\n                i++;\n            // continue if new arg instead of arg value\n            if (command[i] === '-')\n                continue;\n            // read arg value\n            start = i;\n            while (command[i] !== ' ' && !eof())\n                i++;\n            if (i > start) {\n                let argValue = command.slice(start, i);\n                map.set(argName, isNaN(Number(argValue)) ? argValue : Number(argValue));\n            }\n        }\n        return map;\n    }\n}\nexports.CommandParser = CommandParser;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.CommandListCli = void 0;\nconst Cli_1 = require(\"./def/Cli\");\nclass CommandListCli extends Cli_1.Cli {\n    constructor(cliInstances) {\n        super('help', 'Lists all available commands', () => this.listCommands());\n        this.cliInstances = cliInstances;\n    }\n    listCommands() {\n        return `Command List :\\n - ${this.cliInstances\n            .map(cli => `${cli.name}: ${cli.desc}`)\n            .join('\\n - ')}`;\n    }\n}\nexports.CommandListCli = CommandListCli;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ContentCli = void 0;\nexports.showPane = showPane;\nexports.hidePane = hidePane;\nexports.setContent = setContent;\nconst Cli_1 = require(\"./def/Cli\");\nlet $pane;\nlet $modal;\nlet $body;\n$(() => {\n    $pane = $('.modal-pane');\n    $modal = $('.modal-overlay');\n    $body = $('body');\n});\nclass ContentCli extends Cli_1.Cli {\n    constructor(name, desc, content) {\n        super(name, desc, () => `Showing ${name}...`);\n        this.content = content;\n    }\n    execute() {\n        setContent('<div id=\"loading-div\">Loading...</div>');\n        showPane();\n        let result = \"\";\n        $.ajax({\n            url: this.content,\n            method: 'GET',\n            success: (html) => setContent(html),\n            error: () => {\n                hidePane();\n                result = `failed to load content : ${this.content}`;\n            }\n        });\n        return { succes: result.length === 0, errors: result };\n    }\n}\nexports.ContentCli = ContentCli;\nfunction showPane() {\n    $modal.fadeIn();\n    $body.addClass('body-fixed');\n}\nfunction hidePane() {\n    $modal.fadeOut();\n    $body.removeClass('body-fixed');\n}\nfunction setContent(content) {\n    $pane.children().not('.close-button').remove();\n    $pane.append(content);\n}\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.RedirectCli = void 0;\nconst Cli_1 = require(\"./def/Cli\");\nclass RedirectCli extends Cli_1.Cli {\n    constructor(name, url, help) {\n        super(name, help);\n        this.url = url;\n    }\n    output() {\n        if (this.args.has('help'))\n            return this.help();\n        return `Opening ${this.name}...`;\n    }\n    execute() {\n        const succes = window.open(this.url, '_blank');\n        if (succes !== null) {\n            succes.focus();\n            return { succes: true, errors: \"\" };\n        }\n        return { succes: false, errors: \"L'ouverture du lien a échoué, la nouvelle fenetre a été bloqué par l'utilisateur\" };\n    }\n}\nexports.RedirectCli = RedirectCli;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Cli = void 0;\nconst CommandParser_1 = require(\"../../CommandParser\");\nclass Cli {\n    constructor(name, desc, callable) {\n        this.name = name;\n        this.desc = desc;\n        this.callable = callable;\n        this.args = new Map;\n    }\n    help() {\n        // default method : generate help text based on validator if it exists, else returns description\n        return this.validator !== undefined ? this.validator.generateHelp() : this.desc;\n    }\n    output() {\n        // default method: return the output of the callable if it's defined, else the name of the command\n        // returns the help message if 'help' is in the arguments.\n        var _a, _b;\n        if (this.args.has('help'))\n            return this.help();\n        return (_b = (_a = this.callable) === null || _a === void 0 ? void 0 : _a.call(this, this.args)) !== null && _b !== void 0 ? _b : this.name;\n    }\n    parseArgs(args) {\n        // default method: Parses the args with the Command Parser and validate them\n        this.args = CommandParser_1.CommandParser.parseArgs(args);\n        if (this.validator) {\n            const res = this.validator.validate(this.args);\n            return { succes: res.success, errors: res.errors, follow: false };\n        }\n        return { succes: true, errors: \"\", follow: !this.args.has('help') };\n    }\n    ;\n}\nexports.Cli = Cli;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.isExecutable = isExecutable;\nfunction isExecutable(object) {\n    return object !== undefined && 'execute' in object;\n}\n","\"use strict\";\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst shell_1 = require(\"./shell\");\nconst ExternalRedirectCli_1 = require(\"./clis/ExternalRedirectCli\");\nconst CommandListCli_1 = require(\"./clis/CommandListCli\");\nconst ContentCli_1 = require(\"./clis/ContentCli\");\nconst boot_json_1 = require(\"../content/boot.json\");\nconst contentDir = \"content\";\n$(() => __awaiter(void 0, void 0, void 0, function* () {\n    const bootSequenceWait = showBootSequence();\n    const clis = [\n        new ExternalRedirectCli_1.RedirectCli(\"github\", \"https://github.com/AldanariP\", \"Just type 'github' to open the github profile in the new tab\"),\n        new ExternalRedirectCli_1.RedirectCli(\"mail\", \"mailto:curylorafael945@gmail.com?body=Je veux vous embaucher !\", \"Write me an email !\"),\n        // new TestCli(),\n        // new AnimationCli(),\n        // new ContentCli(\"lorem\", \"a test modal pane\", `${contentDir}/lorem_ipsum.html`),\n        new ContentCli_1.ContentCli(\"competences\", \"Mes competences acquisent lors de mon B.U.T. Informatique\", `${contentDir}/competences_pn.html`),\n    ];\n    clis.push(new CommandListCli_1.CommandListCli(clis));\n    new shell_1.ShellInterface(...clis);\n    // evil code that forces focus on the text input\n    const input = $('#command-input');\n    $('body').on('mouseup', () => {\n        setTimeout(() => {\n            input.trigger('focus');\n        }, 0);\n    });\n    // Prevent modal from closing when clicking inside it\n    $('.modal-pane').on(\"click\", function (e) {\n        e.stopPropagation();\n    });\n    // Close modal pane on close click or click out\n    $('.close-button, .modal-overlay').on(\"click\", function (e) {\n        if (e.target === this)\n            (0, ContentCli_1.hidePane)();\n    });\n    // Close modal pane on escape key press\n    $(document).on(\"keyup\", function (e) {\n        if (e.key === \"Escape\")\n            (0, ContentCli_1.hidePane)();\n    });\n    yield bootSequenceWait;\n}));\nfunction showBootSequence() {\n    return __awaiter(this, void 0, void 0, function* () {\n        const generateBootDelays = (numberOfLines) => {\n            const delays = [];\n            let burstMode = false;\n            let burstCount = 0;\n            const normalMin = 100;\n            const normalMax = 400;\n            const burstMin = 10;\n            const burstMax = 60;\n            const burstChance = 0.3;\n            const extraDelayChance = 0.2;\n            const extraDelayMax = 500;\n            for (let i = 0; i < numberOfLines; i++) {\n                if (!burstMode && Math.random() < burstChance) {\n                    burstMode = true;\n                    burstCount = Math.floor(Math.random() * 5) + 3;\n                }\n                if (burstMode && burstCount > 0) {\n                    delays.push(Math.random() * (burstMax - burstMin) + burstMin);\n                    burstCount--;\n                    if (burstCount === 0)\n                        burstMode = false;\n                }\n                else {\n                    const baseDelay = Math.random() * (normalMax - normalMin) + normalMin;\n                    const occasionalLongerDelay = Math.random() < extraDelayChance ? Math.random() * extraDelayMax : 0;\n                    delays.push(baseDelay + occasionalLongerDelay);\n                }\n            }\n            return delays;\n        };\n        const bootDiv = $(`#boot-sequence`);\n        const nameDiv = $(`#name`);\n        const bootDelays = generateBootDelays(boot_json_1.bootsequence.length);\n        const nameDelays = generateBootDelays(boot_json_1.name.length);\n        for (let i = 0; i < boot_json_1.bootsequence.length; i++) {\n            bootDiv.append(`${boot_json_1.bootsequence[i].length > 1 ? '[ <span style=\"color: lime\">OK</span> ]' : ''} ${boot_json_1.bootsequence[i]}<br>`);\n            yield new Promise(resolve => setTimeout(resolve, bootDelays[i]));\n        }\n        bootDiv.hide();\n        $(\"#name\").show();\n        for (let i = 0; i < boot_json_1.name.length; i++) {\n            nameDiv.append(`<pre>${boot_json_1.name[i]}</pre>`);\n            yield new Promise(resolve => setTimeout(resolve, nameDelays[i]));\n        }\n        $('#terminal').show();\n    });\n}\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ShellInterface = void 0;\nconst IExecutable_1 = require(\"./clis/def/IExecutable\");\nconst CommandParser_1 = require(\"./CommandParser\");\nclass ShellInterface {\n    constructor(...clis) {\n        this.$terminal = $('#terminal');\n        this.$output = $('#output');\n        this.$input = $('#command-input');\n        this.clis = clis;\n        this.history = {\n            commands: [],\n            currentIndex: -1\n        };\n        this.initializeEventListeners();\n    }\n    initializeEventListeners() {\n        this.$input.on('keydown', (e) => {\n            switch (e.key) {\n                case 'Enter':\n                    this.handleCommand();\n                    this.$terminal.scrollTop(this.$terminal[0].scrollHeight);\n                    break;\n                case 'ArrowUp':\n                    e.preventDefault();\n                    this.navigateHistory('up');\n                    break;\n                case 'ArrowDown':\n                    e.preventDefault();\n                    this.navigateHistory('down');\n                    break;\n            }\n        });\n    }\n    navigateHistory(direction) {\n        if (this.history.commands.length === 0)\n            return;\n        if (direction === 'up') {\n            if (this.history.currentIndex > 0) {\n                this.history.currentIndex--;\n                this.$input.val(this.history.commands[this.history.currentIndex]);\n            }\n        }\n        else {\n            if (this.history.currentIndex < this.history.commands.length - 1) {\n                this.history.currentIndex++;\n                this.$input.val(this.history.commands[this.history.currentIndex]);\n            }\n            else {\n                this.history.currentIndex = this.history.commands.length;\n            }\n        }\n    }\n    handleCommand() {\n        const addLine = (line, err) => {\n            this.$output.append(`<span class=\"prompt\">$</span><span>${command}</span><br><span class=\"${err}\">${line}</span><br>`);\n        };\n        const command = this.$input.val();\n        this.$input.val('');\n        if (command.trim()) {\n            // adds the commands to history\n            this.history.commands.push(command);\n            this.history.currentIndex = this.history.commands.length;\n            // parses the command\n            const cli = this.clis.find((c) => CommandParser_1.CommandParser.parseName(command) === c.name);\n            if (cli === undefined) {\n                addLine(`Commmande inconnue: ${command}`, 'err');\n            }\n            else {\n                const res = cli.parseArgs(command);\n                // prints the result of the command\n                addLine(res.succes ? cli.output() : res.errors, !res.succes ? 'err' : '');\n                // execute the command\n                if (res.succes && res.follow && (0, IExecutable_1.isExecutable)(cli)) {\n                    const res = cli.execute();\n                    if (!res.succes) {\n                        addLine(res.errors, 'err');\n                    }\n                }\n            }\n        }\n    }\n}\nexports.ShellInterface = ShellInterface;\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// startup\n// Load entry module and return exports\n// This entry module is referenced by other modules so it can't be inlined\nvar __webpack_exports__ = __webpack_require__(92);\n"],"names":["Object","defineProperty","exports","value","CommandParser","parseName","command","slice","indexOf","undefined","trim","parseArgs","map","Map","i","eof","length","start","argName","set","argValue","isNaN","Number","CommandListCli","Cli_1","Cli","constructor","cliInstances","super","this","listCommands","cli","name","desc","join","ContentCli","showPane","hidePane","setContent","$pane","$modal","$body","$","content","execute","result","ajax","url","method","success","html","error","succes","errors","fadeIn","addClass","fadeOut","removeClass","children","not","remove","append","RedirectCli","help","output","args","has","window","open","focus","CommandParser_1","callable","validator","generateHelp","_a","_b","call","res","validate","follow","isExecutable","object","__awaiter","thisArg","_arguments","P","generator","Promise","resolve","reject","fulfilled","step","next","e","rejected","done","then","apply","shell_1","ExternalRedirectCli_1","CommandListCli_1","ContentCli_1","boot_json_1","bootSequenceWait","generateBootDelays","numberOfLines","delays","burstMode","burstCount","Math","random","floor","push","baseDelay","occasionalLongerDelay","bootDiv","nameDiv","bootDelays","bootsequence","nameDelays","setTimeout","hide","show","showBootSequence","clis","ShellInterface","input","on","trigger","stopPropagation","target","document","key","IExecutable_1","$terminal","$output","$input","history","commands","currentIndex","initializeEventListeners","handleCommand","scrollTop","scrollHeight","preventDefault","navigateHistory","direction","val","addLine","line","err","find","c","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","module","__webpack_modules__"],"sourceRoot":""}